(this["webpackJsonpreact-chat"]=this["webpackJsonpreact-chat"]||[]).push([[0],{25:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var s=n(4),r=n.n(s),i=n(16),c=n.n(i),a=n(13),o=n.n(a),l=n(17),u=n(9),d=(n(25),n(10)),j=n(1);var h=function(e){var t=e.signIn;return Object(j.jsx)("div",{className:"power-button power-off",onClick:t,children:Object(j.jsx)(d.a,{})})};var p=function(e){var t=e.signOut;return e.currentUser&&Object(j.jsx)("div",{className:"power-button power-on",onClick:t,children:Object(j.jsx)(d.a,{})})},m=n.p+"static/media/logo.921b37b7.svg";var b={width:"100%",color:"white",fontSize:"1.25em",marginLeft:".65em",display:"flex",alignItems:"center",justifyContent:"space-between"},g=function(e){var t=e.signIn,n=e.signOut,s=e.currentUser,r=e.user;return Object(j.jsxs)("div",{style:b,children:[Object(j.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(j.jsx)("div",{style:{width:"2em",height:"2em"},children:Object(j.jsx)("img",{src:m,height:"100%",alt:"logo"})}),Object(j.jsx)("p",{style:{paddingLeft:".35em",fontFamily:"Zen Dots",letterSpacing:"2px",wordSpacing:"-5px",transform:"skew(-10deg)"},children:"Chat App"})]}),r?Object(j.jsx)(p,{signOut:n,currentUser:s}):Object(j.jsx)(h,{signIn:t})]})};var f={padding:"1em 1.25em 1.25em 1.25em",backgroundImage:"linear-gradient(150deg, white, rgba(255, 255, 255, .65))",borderRadius:".5em",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",color:"hsl(240, 15%, 25%)"},x=function(){return Object(j.jsxs)("div",{className:"welcome-text-size",style:f,children:[Object(j.jsx)("p",{style:{textAlign:"center",paddingBottom:".5em",fontFamily:"Righteous",wordSpacing:"-1px",transform:"scaleX(.95)"},children:"Welcome to my Chat Room!"}),Object(j.jsx)("div",{style:{width:"13.25em"},children:Object(j.jsx)("p",{style:{textAlign:"justify",fontFamily:"Barlow Condensed"},children:"This app is using a Google Back-End service. To enter, please sign in with your Google account by pressing the power button."})})]})};var v={height:"2.25em",fontSize:"1em",display:"flex",alignItems:"center",margin:".6em .5em"},O={height:"100%",borderRadius:"50%"},y=function(e){var t=e.message,n=t.text,s=t.uid,r=t.photoURL,i=s===e.currentUser.uid?"sent":"received";return Object(j.jsxs)("div",{style:v,className:"".concat(i),children:[Object(j.jsx)("img",{src:r,style:O,alt:""}),Object(j.jsx)("p",{style:{borderRadius:"1.2em",padding:".45em .85em",fontSize:".9em",fontFamily:"Roboto"},children:n})]})},w=n(18);var I={width:"93%",height:"93%",backgroundColor:"rgba(255, 255, 255, .75)",borderRadius:".5em",overflowY:"scroll"},S=function(e){var t=e.currentUser,n=e.messagesRef,s=e.scroll,r=n.orderBy("createdAt"),i=Object(w.a)(r,{idField:"id"}),c=Object(u.a)(i,1)[0];return Object(j.jsxs)("div",{className:"chat-scroll",style:I,onLoad:s,children:[c&&c.map((function(e){return Object(j.jsx)(y,{message:e,currentUser:t},e.id)})),Object(j.jsx)("div",{className:"scroll"})]})};var C=function(e){var t=e.currentUser,n=e.user,s=e.messagesRef,r=e.scroll;return Object(j.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:n?Object(j.jsx)(S,{currentUser:t,messagesRef:s,scroll:r}):Object(j.jsx)(x,{})})};var R=function(e){var t=e.input,n=e.value,s=e.setValue,r=e.sendMessage;return Object(j.jsxs)("form",{onSubmit:r,style:{width:"87%",height:"2em",display:"flex",justifyContent:"space-between"},children:[Object(j.jsx)("input",{style:t,value:n,onChange:s,type:"text",placeholder:"Enter your message...",onFocus:function(e){return e.target.placeholder=""},onBlur:function(e){return e.target.placeholder="Enter your message..."}}),Object(j.jsx)("button",{className:"send-button",children:"Send"})]})};var k=function(e){var t=e.input;return Object(j.jsxs)("form",{style:{width:"87%",height:"2em",display:"flex",justifyContent:"space-between",pointerEvents:"none",opacity:".65"},children:[Object(j.jsx)("input",{style:t,type:"text",placeholder:"Sign in to chat..."}),Object(j.jsx)("button",{className:"send-button",children:"Send"})]})};var N={width:"77%",height:"100%",outline:"none",border:"none",borderRadius:".3em",padding:"0 .75em",fontSize:".75em"},U=function(e){var t=e.user,n=e.value,s=e.setValue,r=e.sendMessage;return Object(j.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:t?Object(j.jsx)(R,{input:N,value:n,setValue:s,sendMessage:r}):Object(j.jsx)(k,{input:N})})},F=n(14);F.a.initializeApp({apiKey:"".concat("AIzaSyD980rhOJffDohdNqSiBzTEf6GSLdXrv7Q"),authDomain:"chat-app-efaf5.firebaseapp.com",projectId:"chat-app-efaf5",storageBucket:"chat-app-efaf5.appspot.com",messagingSenderId:"757276321854",appId:"1:757276321854:web:f4624f54a8ee0cd5b2896f",measurementId:"G-J0FL44HGBP"});var B=F.a,L=(n(31),n(28),n(19)),D=B.auth(),z=B.firestore();var A=function(){var e=Object(L.a)(D),t=Object(u.a)(e,1)[0],n=D.currentUser,r=z.collection("messages"),i=Object(s.useState)(""),c=Object(u.a)(i,2),a=c[0],d=c[1],h=function(){document.querySelector(".scroll").scrollIntoView({behavior:"smooth"})},p=function(){var e=Object(l.a)(o.a.mark((function e(t){var s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s=n.uid,i=n.photoURL,e.next=4,r.add({text:a,createdAt:B.firestore.FieldValue.serverTimestamp(),uid:s,photoURL:i});case 4:d(""),h();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Object(j.jsxs)("main",{className:"chat-app",children:[Object(j.jsx)("section",{className:"top",children:Object(j.jsx)(g,{signIn:function(){var e=new B.auth.GoogleAuthProvider;D.signInWithPopup(e)},signOut:function(){D.signOut()},currentUser:n,user:t})}),Object(j.jsx)("section",{className:"chat",children:Object(j.jsx)(C,{currentUser:n,user:t,messagesRef:r,scroll:h})}),Object(j.jsx)("section",{className:"bottom",children:Object(j.jsx)(U,{user:t,value:a,setValue:function(e){d(e.target.value)},sendMessage:p})})]}),Object(j.jsxs)("footer",{className:"footer-text",children:[Object(j.jsxs)("p",{children:["Developed by ",Object(j.jsx)("a",{href:"https://kaloyan-kirilov.github.io/",targer:"_blank",children:"kaloyan-kirilov.github.io"})]}),Object(j.jsx)("p",{children:"Built with React JS + Firebase"})]})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),s(e),r(e),i(e),c(e)}))};c.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(A,{})}),document.getElementById("root")),E()}},[[30,1,2]]]);
//# sourceMappingURL=main.6d21c1a6.chunk.js.map