(this["webpackJsonpreact-chat"]=this["webpackJsonpreact-chat"]||[]).push([[0],{25:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var s=n(4),r=n.n(s),i=n(16),a=n.n(i),c=n(13),o=n.n(c),l=n(17),u=n(9),d=(n(25),n(10)),j=n(1);var h=function(e){var t=e.signIn;return Object(j.jsx)("div",{className:"power-button power-off",onClick:t,children:Object(j.jsx)(d.a,{})})};var m=function(e){var t=e.signOut;return e.currentUser&&Object(j.jsx)("div",{className:"power-button power-on",onClick:t,children:Object(j.jsx)(d.a,{})})},p=n.p+"static/media/logo.921b37b7.svg";var b={width:"100%",color:"white",fontSize:"1.25em",marginLeft:".65em",display:"flex",alignItems:"center",justifyContent:"space-between"},f=function(e){var t=e.signIn,n=e.signOut,s=e.currentUser,r=e.user;return Object(j.jsxs)("div",{style:b,children:[Object(j.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(j.jsx)("div",{style:{width:"2em",height:"2em"},children:Object(j.jsx)("img",{src:p,height:"100%",alt:"logo"})}),Object(j.jsx)("p",{style:{paddingLeft:".35em",fontFamily:"Zen Dots",letterSpacing:"2px",wordSpacing:"-5px",transform:"skew(-10deg)"},children:"Chat App"})]}),r?Object(j.jsx)(m,{signOut:n,currentUser:s}):Object(j.jsx)(h,{signIn:t})]})};var g={padding:"1em 1.25em 1.25em 1.25em",backgroundImage:"linear-gradient(150deg, white, rgba(255, 255, 255, .55))",borderRadius:".5em",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",color:"hsl(240, 15%, 25%)"},x=function(){return Object(j.jsxs)("div",{className:"welcome-text-size",style:g,children:[Object(j.jsx)("p",{style:{textAlign:"center",paddingBottom:".5em",fontFamily:"Righteous",wordSpacing:"-1px",transform:"scaleX(.95)"},children:"Welcome to my Chat Room!"}),Object(j.jsx)("div",{style:{width:"13.25em"},children:Object(j.jsx)("p",{style:{textAlign:"justify",fontFamily:"Barlow Condensed"},children:"This app is using a Google Back-End service. To enter, please sign in with your Google account by pressing the power button."})})]})};var v={fontSize:"1em",display:"flex",margin:".6em"},O={height:"2.25em",borderRadius:"50%"},y={borderRadius:".5em",padding:".8em .9em",fontFamily:"Roboto",fontSize:".8em",maxWidth:"14em",wordWrap:"break-word"},w=function(e){var t=e.message,n=t.text,s=t.uid,r=t.photoURL,i=s===e.currentUser.uid?"sent":"received";return Object(j.jsxs)("div",{style:v,className:"".concat(i),children:[Object(j.jsx)("img",{src:r,style:O,alt:""}),Object(j.jsx)("p",{style:y,children:n})]})},I=n(18);var S={width:"93%",height:"93%",backgroundColor:"rgba(255, 255, 255, .6)",borderRadius:".5em",overflowY:"scroll"},k=function(e){var t=e.currentUser,n=e.messagesRef,s=e.scroll,r=n.orderBy("createdAt"),i=Object(I.a)(r,{idField:"id"}),a=Object(u.a)(i,1)[0];return Object(j.jsxs)("div",{className:"chat-scrollbar",style:S,onLoad:s,children:[a&&a.map((function(e){return Object(j.jsx)(w,{message:e,currentUser:t},e.id)})),Object(j.jsx)("div",{className:"scroll"})]})};var C=function(e){var t=e.currentUser,n=e.user,s=e.messagesRef,r=e.scroll;return Object(j.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:n?Object(j.jsx)(k,{currentUser:t,messagesRef:s,scroll:r}):Object(j.jsx)(x,{})})};var R=function(e){var t=e.input,n=e.value,s=e.setValue,r=e.sendMessage;return Object(j.jsxs)("form",{onSubmit:r,style:{width:"87%",height:"2em",display:"flex",justifyContent:"space-between"},children:[Object(j.jsx)("input",{style:t,value:n,onChange:s,type:"text",placeholder:"Enter your message...",onFocus:function(e){return e.target.placeholder=""},onBlur:function(e){return e.target.placeholder="Enter your message..."}}),Object(j.jsx)("button",{className:"send-button",children:"Send"})]})};var N=function(e){var t=e.input;return Object(j.jsxs)("form",{style:{width:"87%",height:"2em",display:"flex",justifyContent:"space-between",pointerEvents:"none",opacity:".65"},children:[Object(j.jsx)("input",{style:t,type:"text",placeholder:"Sign in to chat..."}),Object(j.jsx)("button",{className:"send-button",children:"Send"})]})};var U={width:"75%",height:"100%",outline:"none",border:"none",borderRadius:".25em",padding:"0 .75em",fontFamily:"Roboto",fontSize:".75em"},F=function(e){var t=e.user,n=e.value,s=e.setValue,r=e.sendMessage;return Object(j.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:t?Object(j.jsx)(R,{input:U,value:n,setValue:s,sendMessage:r}):Object(j.jsx)(N,{input:U})})},B=n(14);B.a.initializeApp({apiKey:"".concat("AIzaSyD980rhOJffDohdNqSiBzTEf6GSLdXrv7Q"),authDomain:"chat-app-efaf5.firebaseapp.com",projectId:"chat-app-efaf5",storageBucket:"chat-app-efaf5.appspot.com",messagingSenderId:"757276321854",appId:"1:757276321854:web:f4624f54a8ee0cd5b2896f",measurementId:"G-J0FL44HGBP"});var L=B.a,D=(n(31),n(28),n(19)),z=L.auth(),A=L.firestore();var E=function(){var e=Object(D.a)(z),t=Object(u.a)(e,1)[0],n=z.currentUser,r=A.collection("messages"),i=Object(s.useState)(""),a=Object(u.a)(i,2),c=a[0],d=a[1],h=function(){document.querySelector(".scroll").scrollIntoView({behavior:"smooth"})},m=function(){var e=Object(l.a)(o.a.mark((function e(t){var s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s=n.uid,i=n.photoURL,""===c){e.next=5;break}return e.next=5,r.add({text:c,createdAt:L.firestore.FieldValue.serverTimestamp(),uid:s,photoURL:i});case 5:d(""),h();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Object(j.jsxs)("main",{className:"chat-app",children:[Object(j.jsx)("section",{className:"top",children:Object(j.jsx)(f,{signIn:function(){var e=new L.auth.GoogleAuthProvider;z.signInWithPopup(e)},signOut:function(){z.signOut()},currentUser:n,user:t})}),Object(j.jsx)("section",{className:"chat",children:Object(j.jsx)(C,{currentUser:n,user:t,messagesRef:r,scroll:h})}),Object(j.jsx)("section",{className:"bottom",children:Object(j.jsx)(F,{user:t,value:c,setValue:function(e){d(e.target.value)},sendMessage:m})})]}),Object(j.jsx)("footer",{className:"footer-text",children:Object(j.jsxs)("p",{children:["Developed by ",Object(j.jsx)("a",{href:"https://kaloyan-kirilov.github.io/",targer:"_blank",children:"kaloyan-kirilov.github.io"})]})})]})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),s(e),r(e),i(e),a(e)}))};a.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(E,{})}),document.getElementById("root")),G()}},[[30,1,2]]]);
//# sourceMappingURL=main.d25e4079.chunk.js.map