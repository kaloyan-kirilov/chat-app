(this["webpackJsonpreact-chat"]=this["webpackJsonpreact-chat"]||[]).push([[0],{27:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var c=n(5),s=n.n(c),i=n(17),r=n.n(i),l=n(14),a=n.n(l),o=n(18),d=n(9),j=(n(27),n(11)),u=n(2);var b=function(e){var t=e.signIn;return Object(u.jsx)("div",{className:"power-button power-off",onClick:t,children:Object(u.jsx)(j.a,{})})};var h=function(e){var t=e.signOut;return e.currentUser&&Object(u.jsx)("div",{className:"power-button power-on",onClick:t,children:Object(u.jsx)(j.a,{})})},p=n.p+"static/media/logo.921b37b7.svg";var m={width:"100%",color:"white",fontSize:"1.25em",marginLeft:".65em",display:"flex",alignItems:"center",justifyContent:"space-between"},f=function(e){var t=e.signIn,n=e.signOut,c=e.currentUser,s=e.user;return Object(u.jsxs)("div",{style:m,children:[Object(u.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(u.jsx)("div",{style:{width:"2em",height:"2em"},children:Object(u.jsx)("a",{href:"https://kaloyan-kirilov.github.io/",target:"_blank",rel:"noreferrer",children:Object(u.jsx)("img",{src:p,height:"100%",alt:"logo"})})}),Object(u.jsx)("p",{style:{paddingLeft:".35em",fontFamily:"Zen Dots",letterSpacing:"2px",wordSpacing:"-5px",transform:"skew(-10deg)"},children:"Chat App"})]}),s?Object(u.jsx)(h,{signOut:n,currentUser:c}):Object(u.jsx)(b,{signIn:t})]})};var x={padding:"1em 1.25em 1.25em 1.25em",backgroundImage:"linear-gradient(150deg, white, rgba(255, 255, 255, .55))",borderRadius:".5em",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",color:"hsl(240, 15%, 25%)"},g=function(){return Object(u.jsxs)("div",{className:"welcome-text-size",style:x,children:[Object(u.jsx)("p",{style:{textAlign:"center",paddingBottom:".5em",fontFamily:"Righteous",wordSpacing:"-1px",transform:"scaleX(.95)"},children:"Welcome to my Chat Room!"}),Object(u.jsx)("div",{style:{width:"13.25em"},children:Object(u.jsx)("p",{style:{textAlign:"justify",fontFamily:"Barlow Condensed"},children:"This app is using a Google Back-End service. To enter, please sign in with your Google account by pressing the power button."})})]})};var v={fontSize:"1em",display:"flex",margin:".6em"},O={height:"2.25em",borderRadius:"50%"},y={borderRadius:".5em",padding:".7em .8em",fontFamily:"Roboto",fontSize:".85em",maxWidth:"14em",wordWrap:"break-word"},k=function(e){var t=e.message,n=t.text,c=t.uid,s=t.photoURL,i=c===e.currentUser.uid?"sent":"received";return Object(u.jsxs)("div",{style:v,className:"".concat(i),children:[Object(u.jsx)("img",{src:s,style:O,alt:""}),Object(u.jsx)("p",{style:y,children:n})]})},C=n(19);var w={width:"93%",height:"93%",backgroundColor:"rgba(255, 255, 255, .6)",borderRadius:".5em",overflowY:"scroll"},S=function(e){var t=e.currentUser,n=e.messagesRef,c=e.scroll,s=n.orderBy("createdAt"),i=Object(C.a)(s,{idField:"id"}),r=Object(d.a)(i,1)[0];return Object(u.jsxs)("div",{className:"chat-scrollbar",style:w,onLoad:c,children:[r&&r.map((function(e){return Object(u.jsx)(k,{message:e,currentUser:t},e.id)})),Object(u.jsx)("div",{className:"scroll"})]})};var I=function(e){var t=e.currentUser,n=e.user,c=e.messagesRef,s=e.scroll;return Object(u.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:n?Object(u.jsx)(S,{currentUser:t,messagesRef:c,scroll:s}):Object(u.jsx)(g,{})})},N=n(20);var R={fontSize:"1.3em",cursor:"pointer"},U=function(e){var t=e.emoji;return Object(u.jsxs)("div",{style:{position:"absolute",left:"0",bottom:"125%"},children:[Object(u.jsxs)("div",{className:"emoji-picker",children:[Object(u.jsx)("div",{style:R,onClick:t,children:"\ud83d\ude42"}),Object(u.jsx)("div",{style:R,onClick:t,children:"\ud83d\ude09"}),Object(u.jsx)("div",{style:R,onClick:t,children:"\ud83d\ude1c"}),Object(u.jsx)("div",{style:R,onClick:t,children:"\ud83d\ude03"}),Object(u.jsx)("div",{style:R,onClick:t,children:"\ud83d\ude06"}),Object(u.jsx)("div",{style:R,onClick:t,children:"\ud83d\ude0a"}),Object(u.jsx)("div",{style:R,onClick:t,children:"\ud83d\ude05"}),Object(u.jsx)("div",{style:R,onClick:t,children:"\ud83d\ude15"}),Object(u.jsx)("div",{style:R,onClick:t,children:"\ud83d\ude1e"}),Object(u.jsx)("div",{style:R,onClick:t,children:"\ud83d\ude22"}),Object(u.jsx)("div",{style:R,onClick:t,children:"\ud83d\ude20"}),Object(u.jsx)("div",{style:R,onClick:t,children:"\ud83d\ude33"}),Object(u.jsx)("div",{style:R,onClick:t,children:"\ud83e\udd14"}),Object(u.jsx)("div",{style:R,onClick:t,children:"\ud83d\ude10"}),Object(u.jsx)("div",{style:R,onClick:t,children:"\ud83d\ude11"}),Object(u.jsx)("div",{style:R,onClick:t,children:"\ud83d\ude32"}),Object(u.jsx)("div",{style:R,onClick:t,children:"\ud83d\ude36"}),Object(u.jsx)("div",{style:R,onClick:t,children:"\ud83d\ude0d"}),Object(u.jsx)("div",{style:R,onClick:t,children:"\ud83d\ude0e"}),Object(u.jsx)("div",{style:R,onClick:t,children:"\ud83d\ude34"})]}),Object(u.jsx)(N.a,{style:{position:"absolute",left:".3em",bottom:"-0.6em",color:"hsl(240, 9%, 23%)",fontSize:"1.25em"}})]})};var F=function(e){var t=e.value,n=e.setValue,s=e.sendMessage,i=e.emoji,r=Object(c.useState)(!1),l=Object(d.a)(r,2),a=l[0],o=l[1];return Object(u.jsxs)("form",{onSubmit:s,style:{width:"90%",height:"2em",display:"flex",justifyContent:"space-between",position:"relative"},children:[Object(u.jsx)("div",{className:"emoji-icon ".concat(a&&"emojis-active"),onClick:function(){o(!a)}}),a&&Object(u.jsx)(U,{emoji:i}),Object(u.jsx)("input",{id:"input",autoComplete:"off",value:t,onChange:n,type:"text",placeholder:"Enter your message...",onFocus:function(e){return e.target.placeholder=""},onBlur:function(e){return e.target.placeholder="Enter your message..."}}),Object(u.jsx)("button",{className:"send-button",children:"Send"})]})};var B=function(){return Object(u.jsxs)("form",{style:{width:"90%",height:"2em",display:"flex",justifyContent:"space-between",pointerEvents:"none",opacity:".65"},children:[Object(u.jsx)("div",{className:"emoji-icon"}),Object(u.jsx)("input",{type:"text",placeholder:"Sign in to chat..."}),Object(u.jsx)("button",{className:"send-button",children:"Send"})]})};var D=function(e){var t=e.user,n=e.value,c=e.setValue,s=e.sendMessage,i=e.emoji;return Object(u.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:t?Object(u.jsx)(F,{value:n,setValue:c,sendMessage:s,emoji:i}):Object(u.jsx)(B,{})})},L=function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(":)","\ud83d\ude42")).replace(";)","\ud83d\ude09")).replace(":P","\ud83d\ude1c")).replace(":D","\ud83d\ude03")).replace("xD","\ud83d\ude06")).replace("^_^","\ud83d\ude0a")).replace("o_o;","\ud83d\ude05")).replace(":\\","\ud83d\ude15")).replace(":(","\ud83d\ude1e")).replace(";(","\ud83d\ude22")).replace(">:|","\ud83d\ude20")).replace("O_O","\ud83d\ude33")).replace(";\\","\ud83e\udd14")).replace(":|","\ud83d\ude10")).replace("-_-","\ud83d\ude11")).replace(":O","\ud83d\ude32")).replace(":X","\ud83d\ude36")).replace("<3","\ud83d\ude0d")).replace("8)","\ud83d\ude0e")).replace(":Z","\ud83d\ude34")},z=n(15);z.a.initializeApp({apiKey:"".concat("AIzaSyD980rhOJffDohdNqSiBzTEf6GSLdXrv7Q"),authDomain:"chat-app-efaf5.firebaseapp.com",projectId:"chat-app-efaf5",storageBucket:"chat-app-efaf5.appspot.com",messagingSenderId:"757276321854",appId:"1:757276321854:web:f4624f54a8ee0cd5b2896f",measurementId:"G-J0FL44HGBP"});var A=z.a,E=(n(33),n(30),n(21)),T=A.auth(),G=A.firestore();var M=function(){var e=Object(E.a)(T),t=Object(d.a)(e,1)[0],n=T.currentUser,s=G.collection("messages"),i=Object(c.useState)(""),r=Object(d.a)(i,2),l=r[0],j=r[1],b=function(){document.querySelector(".scroll").scrollIntoView({behavior:"smooth"})},h=function(){var e=Object(o.a)(a.a.mark((function e(t){var c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c=n.uid,i=n.photoURL,""===l){e.next=5;break}return e.next=5,s.add({text:l,createdAt:A.firestore.FieldValue.serverTimestamp(),uid:c,photoURL:i});case 5:j(""),b();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Object(u.jsxs)("main",{className:"chat-app",children:[Object(u.jsx)("section",{className:"top",children:Object(u.jsx)(f,{signIn:function(){var e=new A.auth.GoogleAuthProvider;T.signInWithPopup(e)},signOut:function(){T.signOut()},currentUser:n,user:t})}),Object(u.jsx)("section",{className:"chat",children:Object(u.jsx)(I,{currentUser:n,user:t,messagesRef:s,scroll:b})}),Object(u.jsx)("section",{className:"bottom",children:Object(u.jsx)(D,{user:t,value:l,setValue:function(e){var t=L(e.target.value);j(t)},sendMessage:h,emoji:function(e){var t=document.getElementById("input");t.focus();var n=l.substring(0,t.selectionStart),c=l.substring(t.selectionStart),s=e.target.innerHTML;j(n+s+c)}})})]}),Object(u.jsx)("footer",{className:"footer-text",children:Object(u.jsxs)("p",{children:["Developed by ",Object(u.jsx)("a",{href:"https://kaloyan-kirilov.github.io/",targer:"_blank",children:"kaloyan-kirilov.github.io"})]})})]})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),i(e),r(e)}))};r.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(M,{})}),document.getElementById("root")),P()}},[[32,1,2]]]);
//# sourceMappingURL=main.94e65685.chunk.js.map